!function(){var e,t,r,n={170:function(e){e.exports={"dist-0011":{identifierType:"OTHER",maxAge:864e5,parameters:{"go-to-meetings-scheduler":["control","variant"]}}}},158:function(e,t,r){e.exports=r.dlbpr(0,20)},3:function(e,t,r){e.exports=r.dlbpr(0,19)},223:function(e,t,r){e.exports=r.dlbpr(1,90)}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};n[e](r,r.exports,i);return r.exports}i.m=n;i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};i.d(t,{a:t});return t};t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},i.t=function(r,n){1&n&&(r=this(r));if(8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));a.default=function(){return r};i.d(o,a);return o};i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})};!function(){i.f={};i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,r){i.f[r](e,t);return t}),[]))}}();i.u=function(e){return e+".js"};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r={},i.l=function(e,t,n,o){if(r[e])r[e].push(t);else{var a,s;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==e){a=l;break}}if(!a){s=!0;(a=document.createElement("script")).charset="utf-8";a.timeout=120;i.nc&&a.setAttribute("nonce",i.nc);a.src=e;0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous")}r[e]=[t];var d=function(t,n){a.onerror=a.onload=null;clearTimeout(p);var o=r[e];delete r[e];a.parentNode&&a.parentNode.removeChild(a);o&&o.forEach((function(e){return e(n)}));if(t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror);a.onload=d.bind(null,a.onload);s&&document.head.appendChild(a)}};i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};i.p="//static.hsappstatic.net/embedded-viral-link-ui/static-1.2837/";var a=[{name:"head-dlb/bundle.production.js",path:"head-dlb/static-1.2040/bundle.production.js",ids:{}},{name:"hubspot-dlb/bundle.production.js",path:"hubspot-dlb/static-1.1772/bundle.production.js",ids:{enviro:3}}];i.dlbpr=function(e,t){var r=a[e];if(!r.r){r.r=window["__webpack_require_"+r.name+"__"];if(!r.r)throw new Error("dlb "+r.name+" not loaded");r.r.linkDlb(i,r.ids)}return r.r(t)};!function(){var e={8474:0};i.f.j=function(t,r){var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(r,o){n=e[t]=[r,o]}));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error,c=function(r){if(i.o(e,t)){0!==(n=e[t])&&(e[t]=void 0);if(n){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")";s.name="ChunkLoadError";s.type=o;s.request=a;n[1](s)}}};i.l(a,c,"chunk-"+t,t)}};var t=function(t,r){var n,o,a=r[0],s=r[1],c=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)c(i)}t&&t(r);for(;u<a.length;u++){o=a[u];i.o(e,o)&&e[o]&&e[o][0]();e[o]=0}},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0));r.push=t.bind(null,r.push.bind(r))}();!function(){"use strict";var e=i(3),t=i.n(e);const r=0,n=6e4,o=8e3,a=0,s="default",c=t().ifHublet({isNa1:()=>"app",isNonNa1:e=>`app-${e}`}),u=t().isProd()?`https://${c}.hubspot.com/api`:`https://${c}.hubspotqa.com/api`,l="v3",d=`treatments/${l}/exposure/log`,p=`treatments/${l}/get`,m={namespace:"laboratory",global:!1},f=Object.freeze({PORTAL_ID:"PORTAL_ID",USER_ID:"USER_ID",PORTAL_USER:"PORTAL_USER",UTK:"UTK",OTHER:"OTHER"}),h=Object.freeze({[f.PORTAL_ID]:"portalId",[f.USER_ID]:"userId",[f.PORTAL_USER]:"portalUserId",[f.UTK]:"utk",[f.OTHER]:"other"}),b=Object.freeze({isActive:!1,isEnrolled:!1,isDefaulted:!0,isCached:!1,isOverridden:!1}),y=Object.freeze({isActive:!0,isEnrolled:!0,isDefaulted:!1,isCached:!0,isOverridden:!1}),g={invalidClientInstance:'expected "client" to be available with these method(s) ["resolve", "logExposure", "logExposures"].'},v={storeInvalid:'expected "store" to be a `superstore` instance implementing each of these method(s) ["has", "get", "set", "delete"].',timeoutInvalid:`expected "timeout" to be set between ${r} - ${n} milliseconds.`,ceidInvalid:'expected "ceid" to be a string or number.',operationModeInvalid:'expected "mode" to be a string.',operationModeInvalidOption:'expected "mode" to be either "default", "cahce-only" or "network-only".',treatmentsNotObject:'expected "treatments" to be an object.',treatmentInvalid:e=>`expected treatments to be an object containing each of these properties ["identifier", "parameters"]. Treatment: "${e}"`,treatmentMaxAgeInvalid:e=>`expected treatment maxAge to be a number greater than 0. Treatment: "${e}"`,treatmentParametersInvalid:e=>`expected treatment parameters to be of the shape Object<String, Array>. Treatment: "${e}"`,treatmentParameterInvalid:(e,t)=>`expected parameters options to be a non-empty array. Treatment: "${e}", Parameter: "${t}"`,identifiersNotObject:'expected "identifiers" to be an object.',identifierTypeInvalid:(e,t)=>`expected identifier to be one of ["${e}"]. Identifier: "${t}"`,experimentsNotObject:'expected "experiments" to be an object.',experimentInvalid:e=>`expected experiment to be an object containing each of these properties ["identifierType", "parameters"]. Experiment: "${e}"`,experimentIdentifierTypeInvalid:e=>`expected experiment identifierType to be a string. Experiment: "${e}"`,experimentInvalidIdentifierType:(e,t,r)=>`expected experiment identifierType to be one of ["${e}"]. Experiment: "${r}", Identifier Type: "${t}"`,identifierTypeNotIncludedInIdentifiers:(e,t)=>`expected experiment identifierType of "${e}" to be present on the "identifiers" object. Experiment: "${t}"`,experimentMaxAgeInvalid:e=>`expected experiment maxAge to be a number greater than 0. Experiment: "${e}"`,experimentParametersInvalid:e=>`expected experiment parameters to be of the shape Object<String, Array>. Experiment: "${e}"`,experimentParameterInvalid:(e,t)=>`expected experiment parameters options to be a non-empty array. Experiment: "${e}", Parameter: "${t}"`,experimentWithoutParameters:e=>`expected experiment parameters to be a non-empty object. Experiment: "${e}"`,identifiersNotProvidedWithExperiment:'expected "identifiers" to be present when passing "experiments".',experimentsProvidedWithTreatments:'expected either "treatments" or "experiments" to be present. not both.',httpModuleInvalid:'expected "http" to be a `hub-http` client implementing each of these method(s) ["get", "post"].',faultyHttpModule:'The "hub-http" module was not present at runtime. Attempting to fall-back to experiments.yaml',quickFetchModuleInvalid:'expected "quickFetch" to be a `quick-fetch` instance implementing each of these method(s) ["getRequestStateByName, "makeEarlyRequest", "getApiUrl"].',faultyQuickFetchModule:'quickFetchLabel was provided but the "quick-fetch" module was not imported correctly.',missingWindowQuickFetch:'The "quick-fetch" module was correctly imported but `window.quickFetch` is "undefined". Attempting to fall-back to `hub-http`.',quickFetchLabelInvalid:'expected "quickFetchLabel" to be null or a non-empty string.',instanceNameInvalid:'expected "quickFetchLabel" to be null or a non-empty string.',apiDomainInvalid:'expected "apiDomain" to be a non-empty string.',exposuresInvalid:"expected to be provided with an array of treatment keys.",exposureItemToBeDefined:"expected treatment to be a treatment key (string).",internalTimeout:"quick-fetch timed out and will fall-back to `hub-http` if possible.",httpUnavailableOnQuickFetch:"quick-fetch timed out and `hub-http` was not available at the time of the request."},x={didEncounterErrors:e=>`validation encountered a total of "${e}" errors. Please check the logs for more details. The client will proceed with defaults where possible and attempt to recover from these errors. In doubt reach out #growth-data.`,invalidQuickFetchLabelDisableQuickFetch:"an invalid (or empty) quick-fetch label was provided. As a security measure quick-fetch will be disabled for this client.",invalidInstanceNameDisableCache:"an invalid (or empty) instance name was provided. As a security measure this instance will not be added to the instance cache pool.",invalidApiDomainFallbackToDefault:"an invalid (or empty) api domain was provided. The default api domain is going to be used for this instance.",invalidCeidDisableCeid:"an invalid (or empty or non-positive) ceid was provided. As a security measure the ceid override will be disabled for this client.",ceidDeprecationNotice:'detected an "ceid" parameter. This parameter is deprecated. Cache will be ignored and all treatments will be retrieved over the network',treatmentsDeprecationNotice:'detected an "treatments" parameter. This parameter is deprecated. Please use the `experiments` parameter when possible'},k={resolvedFromCache:"resolved existing treatments from cache (IndexDB)",skippedCache:"skipped retrieving existing treatments from cache (IndexDB)",noNetworkRequestsNeeded:"no network requests needed. Using cache data",networkRequestsNeeded:"network requests are needed. Attempting to retrieve treatments over the network",resolvedFromNetwork:"resolved treatments from network",failedResolveFromNetwork:"failed to get treatments from network",treatmentIgnored:e=>`treatment "${e}" will not be sent because it has an identifier with nullish value.`,treatmendExposed:e=>`"${e}" treatment(s) exposure(s) were succesful`,instanceCacheHit:e=>`instance "${e}" is cached and the cache will be used instead of the current instance`},w=(e,t=(()=>{}))=>"function"==typeof e?e:t;function j(e){return e instanceof Promise?e:Promise.resolve(e)}function E(e,t=(([,e])=>Boolean(e))){return Object.entries(e).filter(t).reduce(((e,[t,r])=>Object.assign({},e,{[t]:r})),{})}const O=e=>{let t,r;return(...n)=>{if(!t){t=!0;r=e(...n)}return r}};function I(e,t){return setTimeout((()=>{e.apply(void 0,t)}),1)}function T(e=""){const t=new URLSearchParams(e);return[...t.values()].length?`?${t.toString()}`:""}function A(e=""){return Object.fromEntries(new URLSearchParams(e))}const S=e=>("object"==typeof document?document.cookie:"").split(";").some((t=>t.trim().startsWith(`${e}=`))),_=e=>"object"==typeof e.Raven&&"function"==typeof e.Raven.captureException&&"function"==typeof e.Raven.captureMessage,D=e=>{const t=ee("api",e instanceof Error?e.message:e);t.name="LaboratoryNetworkError";e instanceof Error&&(t.stack=e.stack);return t};function N(e={}){const{apiDomain:t="",data:r,http:n,onError:o,query:i={},logDebug:a}=e,s={data:r,query:A(i)},c=w(n,(()=>j({}))),u=e=>w(o)(D(e)),l=s.data?s.data.exposures.length:0,p=()=>w(a)(k.treatmendExposed(l),"api");return c().then((e=>{if(0===l)return;const r=`${t}/${d}`;return j(w(e.post)(r,s)).then(p).catch(u)}))}function q(e={}){const{apiDomain:t="",data:r=[],http:n,timeout:o,onComplete:i,onError:a,query:s={}}=e,c={timeout:o,data:r,query:A(s)},u=w(n,(()=>j({}))),l=e=>w(a)(D(e));return u().then((e=>{const r=`${t}/${p}`;return j(w(e.post)(r,c)).then(w(i)).catch(l)}))}function F(e={}){const{apiDomain:t="",data:r=[],quickFetch:n,quickFetchLabel:o,timeout:i,onComplete:a,onError:s,onTimeout:c,query:u={}}=e,l=w(n,(()=>j({}))),d=e=>w(s)(D(e)),m=e=>w(c)(Z("api",e));return l().then((e=>{const n=w(e.getRequestStateByName);let s=n(o);if(!s){const a=T(u);w(e.makeEarlyRequest)(o,{url:`${t}/${p}${a}`,data:JSON.stringify(r),dataType:"json",contentType:"application/json",type:"POST",timeout:i});s=n(o)}if(s&&"object"==typeof s){const e=setTimeout((()=>m(v.internalTimeout)),Math.max(i,0)),t=w(s.onError).bind(s);w(s.whenFinished).bind(s)((t=>{clearTimeout(e);w(a)(t)}));t(((t,r)=>{clearTimeout(e);d(r)}))}else m(v.missingWindowQuickFetch)}))}function P(e=[]){return e.reduce(((e,t)=>{e[t.key]=t.value;return e}),{})}function $(e=[]){return e.reduce(((e,t)=>{e[t.key]=Object.assign({},t,{parameters:P(t.parameters||[])});return e}),{})}function C(e={}){return!(!e||!e.status)&&("boolean"==typeof e.status.isActive&&"boolean"==typeof e.status.isEnrolled&&"boolean"==typeof e.status.isDefaulted&&"boolean"==typeof e.status.isOverridden&&"boolean"==typeof e.status.isCached)}function R(e=[],t){return t&&-1!==e.indexOf(t)}function L(e=[],t=[]){return t.find((({value:t})=>R(e,t)))||t[t.length-1]}function M(e,t={},r={},n={},o={}){let i=r;return{resolvedParameters:Object.keys(n).reduce(((r,a)=>{const s=`${e}-${a}`,c=t[a],u=n[a],{value:l,status:d}=o[s]||{},p=[{value:c,status:{}},{value:l,status:d},{value:u[0],status:{}}],{value:m,status:f}=L(u,p);i=Object.assign({},i,f);return Object.assign({},r,{[a]:m})}),t),resolvedStatus:i}}function U({treatment:e,definition:t={},overridesFromCache:r={}}){const n=e&&e.parameters||{},o=C(e)?e.status:b,i=JSON.parse(JSON.stringify(e||t)),{resolvedParameters:a,resolvedStatus:s}=M(t.key,n,o,t.parameters,r);i.parameters=a;i.status=s;"number"==typeof t.maxAge&&(i.maxAge=t.maxAge);return i}function B({treatments:e=[],schema:t={},overridesFromCache:r={},networkAdapter:n="hub-http"}={}){const o=$(e);return Object.keys(t).reduce(((e,n)=>{const i=t[n];i.key=n;const a=U({treatment:o[n],definition:i,overridesFromCache:r});return Object.assign({},e,{[n]:a})}),o)}function K(e){return!!(e&&e.key&&e.identifier)&&C(e)}function Q(e){if(K(e)){const{isEnrolled:t,isDefaulted:r,isActive:n,isOverridden:o}=e.status;return o||n&&t&&!r}return!1}function H(e,t={}){const r=t[e];return Q(r)?r:null}function W(e={}){return Object.keys(e).map((t=>({key:t,identifier:e[t].identifier})))}function z({treatments:e={},treatmentKeys:t=[]}={}){return t.reduce(((t,r)=>{const n=H(r,e);return Object.assign({},t,n&&{[n.key]:n})}),{})}function J(...e){w(console.error)(...e)}function V(...e){w(console.warn)(...e)}function G({debug:e}){return{logDebug:w(e&&((e="",t="createDebugLogger")=>"function"==typeof e?console.debug(`[laboratory-lib "${t}"] ${e()}`):"object"==typeof e?console.debug(`[laboratory-lib "${t}"]`,e):console.debug(`[laboratory-lib "${t}"] ${e}`)))}}function X({apiDomain:e,http:t,identifiers:r,resolveTreatments:n,onError:o,logDebug:i}){const a=e=>{w(o)(e,{fingerprint:["laboratory-lib","lab:createExposureLogger"],tags:{"laboratory-lib:error":"exposures"}})},s=o=>n(null,(n=>{o&&Array.isArray(o)&&o.length>0&&(n=Object.fromEntries(Object.entries(n).filter((([e])=>o.includes(e)))));0!==Object.keys(n).length&&N({apiDomain:e,http:t,logDebug:i,onError:a,query:E(Object.assign({},r)),data:{exposures:W(n),identifiers:r}})}));return{logExposures:s,logExposure:e=>s(e?[e]:[])}}const Y=Object.freeze({level:"error",fingerprint:["laboratory-lib","lab:error"],tags:{"laboratory-lib:error":"error"}});function Z(e,t){return`[laboratory-lib "${e}"] ${t}`}function ee(e,t){const r=new Error(Z(e,t));r.name="LaboratoryError";delete r.stack;return r}function te(e,t={}){if("object"==typeof e){_(window)&&window.Raven.captureException(e,Object.assign({},Y,t));J(e)}"string"==typeof e&&V(e)}const re=e=>{e&&console.warn(e);return Promise.resolve()},ne=4,oe=new Error("IndexedDB capacity exceeded"),ie=()=>{if(window.navigator&&window.navigator.storage&&window.navigator.storage.estimate)try{return window.navigator.storage.estimate().then((({quota:e,usage:t})=>{if(!e||!t)throw new Error("Browser storage estimate APIs did not perform as expected");return e-t})).catch(re)}catch(e){return re(e)}return re()};var ae=()=>ie().catch(re).then((e=>{if(!e){"prod"!==t().getShort()&&console.warn("Support for making estimate of available storage is missing on this browser.");return Promise.resolve()}if(e<ne){"prod"!==t().getShort()&&console.warn(oe);return Promise.reject(oe)}return Promise.resolve()}));const se={__superstoreNull:!0},ce="hs.superstore",ue="default";var le=i(158),de=i.n(le),pe=e=>{let t=e.namespace;e&&e.namespace&&(t=`${ce}.${e.namespace}`);if(!e.global){let r;r=e.partition&&"function"==typeof e.partition?e.partition:()=>de().get();let n=r();n=n?`.${n}`:"";t=`${t}${n}`}return t},me=e=>{try{return JSON.stringify(e).length}catch(e){return-1}};const fe=()=>{const e=new Map,t=(t,r)=>e.set(t,me(r));return{recordSizes:e,getRecordCallback:t}},he=e=>{const{recordSizes:t,getRecordCallback:r}=fe();return e(r).then((()=>t))},be=5;var ye=(e,t=be)=>`Top Records:\n${Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,t).map((e=>`${e[0]} : (${e[1]}b)`)).join("\n")}`;const ge=Object.freeze({alreadyOpen:"A backend connection is already open. To open another connection, create a new Superstore instance.",asyncOnly:"The IndexedDB backend only supports asynchronous calls.",blocked:"Superstore can't create a store because open connections are blocking it.Make sure you're closing your store connections with `.close()`.",browserPrivacy:"HubSpot superstore library: indexedDB.open failed. Common reasons: browser security settings, Firefox Private windows. Original error: ",needBackend:"No backend connection is open. Open a new database or connect to an existing one using .open()",noEvent:"the wrapped call did not return an event",unsupported:"IndexedDB is not supported in this environment.",unknown:"Unknown backend error"}),ve=e=>{try{if("object"==typeof e){const t=Object.keys(se),r=Object.keys(e);if(t.length===r.length)return t.every((t=>{const n=r[r.indexOf(t)];return se[t]===e[n]}))}return!1}catch(e){return!1}},xe=new Error(ge.unsupported),ke={error:[({error:e},{reject:t})=>t(new Error(e&&e.message||ge.unknown))],success:[({result:e},{resolve:t})=>t(e)]},we=(e,t,r=[],n=ke,o,i=!0)=>new Promise(((a,s)=>{try{let i=e[t](...r);!i&&o?i=o:i||s(new Error(ge.noEvent));Object.keys(n).forEach((e=>{const[t,r]=n[e];i.addEventListener(e,(()=>t(i,{resolve:a,reject:s})),Object.assign({once:!0},r))}))}catch(c){if(i&&e instanceof IDBObjectStore&&"TransactionInactiveError"===c.name){const{mode:i,db:c}=e.transaction,u=c.transaction(e.name,i).objectStore(e.name);we(u,t,r,n,o,!1).then(a).catch(s)}else s(c)}})),je=e=>e&&e.commit&&"function"==typeof e.commit?we(e,"commit",[],Object.assign({},ke,{complete:[({result:e},{resolve:t})=>t(e)]}),e):Promise.resolve();class Ee{constructor(e){if(!e.async)throw new Error(ge.asyncOnly);this._database=void 0;this._objectStoreName=ue;this._dbName=pe(e)}_checkInit(){return this._database?Promise.resolve():Promise.reject(new Error(ge.needBackend))}open(){if(this._database)return Promise.reject(new Error(ge.alreadyOpen));try{if(!window.indexedDB)return Promise.reject(xe)}catch(e){return Promise.reject(xe)}const e=(e=1)=>we(window.indexedDB,"open",[this._dbName,e],Object.assign({},ke,{upgradeneeded:[({result:e,transaction:t},{resolve:r})=>{e.objectStoreNames.contains(this._objectStoreName)||e.createObjectStore(this._objectStoreName);t.addEventListener("complete",(()=>r(e)),{once:!0})}],blocked:[(e,{reject:t})=>t(new Error(ge.blocked))],error:[({error:e},{reject:t})=>t(new Error(`${ge.browserPrivacy}${e}`))]}));return e().then((t=>{if(t.objectStoreNames.contains(this._objectStoreName)){this._database=t;return this}t.close();return e(t.version+1).then((e=>{this._database=e;return this}))}))}close(){return this._checkInit().then((()=>{this._database.close();delete this._database}))}has(e){return this._checkInit().then((()=>this._database.transaction(this._objectStoreName,"readonly"))).then((t=>{const r=t.objectStore(this._objectStoreName);return we(r,"openCursor",[e]).then((e=>je(t).then((()=>!!e))))}))}get(e){return this._checkInit().then((()=>this._database.transaction(this._objectStoreName,"readonly"))).then((t=>{const r=t.objectStore(this._objectStoreName);return we(r,"get",[e]).then((e=>je(t).then((()=>ve(e)?null:e))))}))}getAllKeys(e,t){return this._checkInit().then((()=>this._database.transaction(this._objectStoreName,"readonly"))).then((r=>{const n=r.objectStore(this._objectStoreName),o=[];if(void 0!==e){o.push(e);void 0!==t&&o.push(t)}return we(n,"getAllKeys",o).then((e=>je(r).then((()=>e))))}))}getAllRecords(e){return this._checkInit().then((()=>this._database.transaction(this._objectStoreName,"readonly"))).then((t=>{const r=t.objectStore(this._objectStoreName);let n=0;const o=({result:t},{resolve:r})=>{if(null===t)r(n);else{e(t.key,t.value);n++;t.continue()}};return we(r,"openCursor",[],Object.assign({},ke,{success:[o,{once:!1}]}))}))}set(e,t){null===t&&(t=se);return this._checkInit().then(ae).then((()=>this._database.transaction(this._objectStoreName,"readwrite"))).then((r=>{const n=r.objectStore(this._objectStoreName);return we(n,"openCursor",[e]).then((e=>!!e)).then((o=>we(n,o?"put":"add",[t,e]).then((()=>je(r).then((()=>t)))))).catch((r=>he(this.getAllRecords.bind(this)).then((n=>{const o=ye(n);return Promise.reject(new Error(`Encountered error: ${r} while setting ${e}:(${me(t)}b), ${o}`))}))))}))}delete(e){return this._checkInit().then((()=>this._database.transaction(this._objectStoreName,"readwrite"))).then((t=>{const r=t.objectStore(this._objectStoreName);return we(r,"get",[e]).then((n=>we(r,"delete",[e]).then((()=>je(t).then((()=>n))))))}))}clear(){return this._checkInit().then((()=>this._database.transaction(this._objectStoreName,"readwrite"))).then((e=>{const t=e.objectStore(this._objectStoreName);return we(t,"clear").then((()=>je(e))).then()}))}}function Oe(e){return new Ee(e)}const Ie={async:!0};function Te(e){if(!e||!e.namespace)throw new Error("Configuration error: Superstore must be instantiated with a namespace.");if("string"!=typeof e.namespace)throw new Error("Configuration error: `namespace` must be of type string.");if(e.global){if(e.partition)throw new Error("Configuration error: `partition` and `global` are mutually exclusive.")}else if(e.partition&&"function"!=typeof e.partition)throw new Error("Configuration error: `partition` must be a function.")}const Ae=function e(t){if(!t||!t.backend)throw new Error("Configuration error: Superstore must be instantiated with a backend.");Te(t);return t.backend(Object.assign({},e._defaultOpts,t))};Ae._defaultOpts=Ie;function Se(e){Te(e);return Oe(Object.assign({},e,{async:!0}))}const _e={};function De(){return Se(Object.assign({},m))}function Ne(e){e=e||De();const t=t=>j(w(t.close).bind(e)()).catch(),r=({db:e,transaction:r})=>new Promise((n=>{const o=r=>t(e).then((()=>n(j(r)))).catch((()=>n(j(r))));return j(r).then(o).catch(n)}));return(t,...n)=>{const o=w(e.open).bind(e)();return new Promise((e=>{const i=(r=_e)=>new Promise((o=>{const i=(e=_e)=>j(w(e[t]).bind(e)(...n)).then((t=>o({db:e,transaction:t}))).catch((()=>o({db:e,transaction:Promise.resolve()})));return j(r).then(i).catch(e)}));return i(o).then(r).then(e).catch(e)}))}}function qe({experiments:e={},identifiers:t={}}={}){const r={},n={PORTAL_ID:t.portalId,USER_ID:t.userId,PORTAL_USER:t.portalUser||t.portalUserId,UTK:t.utk,OTHER:t.other};Object.keys(e).forEach((t=>{const o=e[t],i={identifier:n[o.identifierType],parameters:o.parameters};"number"==typeof o.maxAge&&(i.maxAge=o.maxAge);r[t]=i}));return r}const Fe=new Map,Pe={get:()=>new Promise(((e,t)=>t(v.faultyHttpModule))),post:()=>new Promise(((e,t)=>t(v.faultyHttpModule)))},$e={getRequestStateByName:()=>({whenFinished:()=>{},onError:e=>{e(null,v.faultyQuickFetchModule)}}),makeEarlyRequest:()=>{},getApiUrl:()=>u};function Ce(e,t){let c=0;const l=e=>V(`[laboratory-lib "${t}"] ${e}`),d=(r,n)=>{if(!0===n){c++;w(e)(ee(t,r),{fingerprint:["laboratory-lib","lab:validators"],tags:{"laboratory-lib:error":"validation"}})}return!0===n},p=(e,r)=>{if(!0===r){d(e,r);throw ee(t,e)}},m=(e,t,r=void 0,n=void 0)=>d(e,t)?n:r;function b(e){const t=null!==e&&"object"!=typeof e||e&&("function"!=typeof e.has||"function"!=typeof e.get||"function"!=typeof e.set||"function"!=typeof e.delete);return{store:m(v.storeInvalid,t,e,null)}}function y(e){const t=isNaN(e)||"number"!=typeof e||e<r||e>n;return{timeout:m(v.timeoutInvalid,t,e,o)}}function k(e){const t=null!==e&&"string"!=typeof e&&"number"!=typeof e;let r=m(v.ceidInvalid,t,e,null);const n="string"==typeof r&&e.trim().length>0||"number"==typeof r&&e>0,o=null!==r&&!n;(t||o)&&l(x.invalidCeidDisableCeid);n&&l(x.ceidDeprecationNotice);o&&(r=null);return{ceid:r}}function j(e){let t=m(v.operationModeInvalid,null!==e&&"string"!=typeof e,e,s);"string"==typeof e&&(t=m(v.operationModeInvalidOption,!["default","cache-only","network-only"].includes(e),e,s));null===t&&(t=s);return{mode:t}}function E(e,t){const r=m(v.treatmentsNotObject,e&&"object"!=typeof e,e,null);r&&l(x.treatmentsDeprecationNotice);d(v.experimentsProvidedWithTreatments,Boolean(r&&t));Object.keys(r||{}).forEach((t=>{const n=e[t],o=!n||"object"!=typeof n||!n.identifier||!n.parameters;r[t]=m(v.treatmentInvalid(t),o,n,null);if(r[t]){const e=r[t],n=e.maxAge&&("number"!=typeof e.maxAge||e.maxAge<0);r[t].maxAge=m(v.treatmentMaxAgeInvalid(t),n,e.maxAge,a);r[t].parameters=m(v.treatmentParametersInvalid(t),"object"!=typeof e.parameters,e.parameters,{});Object.keys(r[t].parameters).forEach((e=>{const n=r[t].parameters[e],o=!Array.isArray(n)||!n.length;r[t].parameters[e]=m(v.treatmentParameterInvalid(t,e),o,n,null);null===r[t].parameters[e]&&delete r[t].parameters[e]}))}else delete r[t]}));return{treatments:r||{}}}function O(e){const t=m(v.identifiersNotObject,e&&"object"!=typeof e,e,{}),r=Object.values(h),n=r.join('", "');Object.keys(t||{}).forEach((e=>{d(v.identifierTypeInvalid(n,e),!r.includes(e));r.includes(e)||delete t[e]}));return t}function I(e,t){const r=m(v.experimentsNotObject,e&&"object"!=typeof e,e,null),n=O(t);d(v.identifiersNotProvidedWithExperiment,r&&!n);const o=n?Object.assign({},n):{},i=Object.keys(f),s=i.join('", "');if(null===r)return{experiments:null,identifiers:o};return{experiments:Object.entries(r).reduce(((e,[t,r])=>{if(d(v.experimentInvalid(t),"object"!=typeof r||!r||!r.identifierType||!r.parameters))return e;if(d(v.experimentIdentifierTypeInvalid(t),"string"!=typeof r.identifierType))return e;if(d(v.experimentInvalidIdentifierType(s,r.identifierType,t),!i.includes(r.identifierType)))return e;const n=h[r.identifierType];if(d(v.identifierTypeNotIncludedInIdentifiers(n,t),!Object.keys(o).includes(n)))return e;r.maxAge=m(v.experimentMaxAgeInvalid(t),r.maxAge&&("number"!=typeof r.maxAge||r.maxAge<0),r.maxAge,a);const c="object"!=typeof r.parameters;r.parameters=m(v.experimentParametersInvalid(t),c,r.parameters,{});const u=Object.keys(r.parameters);d(v.experimentWithoutParameters(t),c||0===u.length);u.forEach((e=>{d(v.experimentParameterInvalid(t,e),!Array.isArray(r.parameters[e])||!r.parameters[e].length)&&delete r.parameters[e]}));return Object.assign({},e,{[t]:r})}),{}),identifiers:o}}function T(e){p(g.invalidClientInstance,!e||"object"!=typeof e||"function"!=typeof e.resolve||"function"!=typeof e.logExposure||"function"!=typeof e.logExposures)}function A(e){const t=e=>{const t=!e||"function"!=typeof e.post||"function"!=typeof e.get;return m(v.httpModuleInvalid,t,e,Pe)};return{http:()=>{let r=e;return new Promise((e=>{null!=r?e(t(r)):Promise.resolve().then(i.t.bind(i,223,23)).then((({default:e})=>{r=e})).catch().finally((()=>e(t(r))))}))}}}function S(e,t){const r=e=>{const t=!e||"object"!=typeof e||"function"!=typeof e.getRequestStateByName||"function"!=typeof e.makeEarlyRequest||"function"!=typeof e.getApiUrl;return m(v.quickFetchModuleInvalid,t,e,$e)};return{quickFetch:()=>{let n=e;return new Promise((e=>{if(t){if(null==n){i.e(2300).then(i.bind(i,224)).then((({default:e})=>{n=e})).catch().finally((()=>e(r(n))));return}e(r(n))}e($e)}))}}}function _(e){const t=null!==e&&"string"!=typeof e;let r=m(v.quickFetchLabelInvalid,t,e,null);const n="string"==typeof r&&0===r.trim().length;(t||n)&&l(x.invalidQuickFetchLabelDisableQuickFetch);n&&(r=null);return{quickFetchLabel:r}}function D(e){const t=null!==e&&"string"!=typeof e;let r=m(v.apiDomainInvalid,t,e,u);const n="string"==typeof r&&0===r.trim().length;(t||n)&&l(x.invalidApiDomainFallbackToDefault);(null===r||n)&&(r=u);return{apiDomain:r}}function N(e){const t=m(v.exposuresInvalid,!Array.isArray(e),e,[]),r=new Set;t.forEach((e=>{const t="string"==typeof e&&e.trim().length>0;d(v.exposureItemToBeDefined,!t);t&&r.add(e)}));return{treatmentKeys:[...r]}}function q(e){const t=null!==e&&"string"!=typeof e;let r=m(v.instanceNameInvalid,t,e,"");const n="string"==typeof r&&0===r.trim().length;(t||n)&&l(x.invalidInstanceNameDisableCache);if(null===r||n){r=`default-${Fe.size+1}`}return{name:r}}return{validateCeid:k,validateHttp:A,validateStore:b,validateTimeout:y,validateExposures:N,validateApiDomain:D,validateOperationMode:j,validateQuickFetch:S,validateQuickFetchLabel:_,validateTreatmentsSchema:E,validateExperimentsSchema:I,validateClientInstance:T,validateInstanceName:q,checkValidationErrors:()=>{c>0&&l(x.didEncounterErrors(c))}}}function Re(e){let t=e;return{execute:e=>{I((()=>{if("function"==typeof t){const r=t;t=void 0;r(e)}}))},defer:e=>{const r=t;t=t=>{w(r)(t);e(t)}}}}function Le({getAsyncData:e,resolve:t,onError:r}={}){let n,o;return i=>{if(o){o.defer(i);n&&o.execute(t(n))}else{o=Re(i);e({onComplete:e=>{n=e||{};o.execute(t(n))},onError:(e,i={})=>{const a=i&&i.networkAdapter?`resolve:${i.networkAdapter}`:"resolve";w(r)(e,{fingerprint:["laboratory-lib","lab:getAsyncData"],tags:{"laboratory-lib:error":a},extra:{data:i}});n=i;o.execute(t(n))}})}}}function Me({ceid:e="",cacheKeys:t=[],schema:r={},overridesFromCache:n={},operationMode:o="default"}={}){const i=!!e,a=!t.length&&!!Object.keys(r).length,s=t.length&&t.some((({key:e})=>!n[e.trim()])),c=S("hs_selenium");switch(o){case"network-only":return!0;case"cache-only":return!1;default:return c||i||a||s}}function Ue(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}const Be=["updatedAt"],Ke=["key"],Qe=["updatedAt"];function He(e=[],t="",r=""){const n=e.find((e=>e&&void 0!==e[t]));return n?n[t]:r}function We(e,t){return Math.abs(Date.now()-e)>t}function ze(e,t){return`${e}-${t}`}function Je({schema:e}){return Object.keys(e).reduce(((t,r)=>{const{parameters:n,maxAge:o}=e[r];Object.keys(n).forEach((e=>{t.push({key:ze(r,e),maxAge:o})}));return t}),[])}function Ve({cacheKeys:e,asyncStore:t,onError:r}){const n=e=>{w(r)(e,{fingerprint:["laboratory-lib","lab:getOverridesFromCache"],tags:{"laboratory-lib:error":"cache:get"}})},o=e.map(((e={})=>new Promise((r=>t("get",e.key).then((t=>{const n=t||{},{updatedAt:o=0}=n,i=Ue(n,Be);if(i.value&&o&&C(i)){const t=He([e,i],"key","");!We(o,He([e,i],"maxAge",a))&&t&&r({key:t,value:i.value||"",status:i.status})}})).catch(n).finally(r))))),i=e=>e.filter((e=>!!e)).map((e=>{let{key:t}=e;return[t,Ue(e,Ke)]}));return Promise.all(o).then((e=>Object.fromEntries(i(e))))}function Ge(e={}){const{schema:t,treatments:r,asyncStore:n,onError:o}=e,i=e=>{w(o)(e,{fingerprint:["laboratory-lib","lab:saveOverridesToCache"],tags:{"laboratory-lib:error":"cache:save"}})};Object.keys(t).forEach((e=>{const o=r[e]||{},s=t[e],c=o.parameters||[];Object.keys(c).forEach((t=>{const r=ze(e,t);n("get",r).then((e=>{const u=e||{},{updatedAt:l=0}=u,d=Ue(u,Qe),p=He([s,o,d],"maxAge",a),m=He([o,d],"status",y),f=c[t],h=We(l,p)||!d.status,b=m.isOverridden;if(p>0&&h&&!b){const e=Object.assign({},m,{isCached:!0,isOverridden:!1}),t={key:r,updatedAt:Date.now(),status:e,maxAge:p,value:f};n("set",r,t).catch(i)}else l&&0===p&&n("delete",r).catch(i)})).catch(i)}))}))}const Xe=(e={})=>Object.entries(e).map((([e,{identifier:t}])=>({key:e,identifier:t})));function Ye(e={}){const{apiDomain:t,ceid:r,http:n,quickFetch:o,quickFetchLabel:i,schema:a,identifiers:s,onError:c,timeout:u}=e,l=()=>({apiDomain:t,timeout:u,query:E(Object.assign({},s,{ceid:r})),data:{requests:Xe(a),identifiers:s}}),d=(e={})=>q(Object.assign({},l(),{onComplete:e.onComplete,onError:e.onError,http:n}));return i?(e={})=>F(Object.assign({},l(),{onTimeout:t=>{w(c(t));d(Object.assign({},e,{onError:()=>e.onError(D(v.httpUnavailableOnQuickFetch))}))},onComplete:e.onComplete,onError:e.onError,quickFetch:o,quickFetchLabel:i})):d}function Ze(e={}){const{networkAdapter:t,asyncStore:r,cacheKeys:n,ceid:o,schema:i,onError:a,logDebug:s,quickFetchLabel:c,mode:u}=e,l=w(s),d="wrapNetworkAdapterWithMeta",p=Ve({cacheKeys:n,asyncStore:r,onError:a}),m={overridesFromCache:{},schema:i,treatments:[],networkAdapter:c?"quick-fetch":"hub-http"};return(e={})=>p.then((r=>{"network-only"!==u&&(m.overridesFromCache=r);l("network-only"===u?k.skippedCache:k.resolvedFromCache,d);const a=Me({ceid:o,schema:i,cacheKeys:n,overridesFromCache:r,operationMode:u});l(a?k.networkRequestsNeeded:k.noNetworkRequestsNeeded,d);const s=w(e.onComplete);a?t({onComplete:(e=[])=>{l(k.resolvedFromNetwork,d);m.treatments=e;s(m)},onError:t=>{l(k.failedResolveFromNetwork,d);w(e.onError)(t,m)}}):s(m)}))}function et(e,t){return Object.keys(t).reduce(((r,n)=>{const o=t[n];if(null===o.identifier||void 0===o.identifier){w(e)(k.treatmentIgnored(n),"createTreatmentsResolver");return r}return Object.assign({},r,{[n]:o})}),{})}function tt(e={}){const{apiDomain:t,asyncStore:r,ceid:n,http:o,onError:i,quickFetch:a,quickFetchLabel:s,treatments:c,experiments:u,identifiers:l,timeout:d,logDebug:p,mode:m}=e,f=et(p,u?qe({experiments:u,identifiers:l}):c),h=Je({schema:f}),b=Le({getAsyncData:Ze({networkAdapter:Ye({apiDomain:t,ceid:n,http:o,quickFetch:a,quickFetchLabel:s,schema:f,identifiers:l,onError:i,timeout:d}),asyncStore:r,cacheKeys:h,ceid:n,schema:f,onError:i,logDebug:p,quickFetchLabel:s,mode:m}),resolve:O(B),onError:i}),y=O((e=>Ge({schema:f,treatments:e,asyncStore:r,onError:i})));return{resolveTreatments:e=>{b((t=>{y(t);w(e)(t)}))}}}function rt({resolveTreatments:e,onError:t}={}){const r=Ce(t,"createExposureResolver"),n=(t,r)=>e((e=>{const n=t||Object.keys(e);w(r)(z({treatmentKeys:n,treatments:e}))}));return{resolveExposableTreatments:(e,t)=>{const o=e?r.validateExposures(e):{treatmentKeys:void 0};n(o.treatmentKeys,t)}}}const nt=(e,t,r=(()=>{}))=>Fe.has(e)?Fe.get(e)[t]:r;function ot(e={}){const r=Ce(e.onError,"createClient"),n=Object.assign({},e,r.validateStore(e.store),r.validateTimeout(e.timeout),r.validateCeid(e.ceid),r.validateOperationMode(e.mode),r.validateApiDomain(e.apiDomain),r.validateQuickFetchLabel(e.quickFetchLabel),r.validateInstanceName(e.name),r.validateExperimentsSchema(e.experiments,e.identifiers)),{experiments:o,identifiers:i}=n,{store:a,timeout:s,onError:c,apiDomain:u}=n,{ceid:l,mode:d,quickFetchLabel:p,name:m}=n,f=t().debug("laboratory-lib")||t().debug("")||t().isQa()||!t().deployed(),{logDebug:h}=G({debug:f});m.length&&Fe.has(m)&&h(k.instanceCacheHit(m));const{treatments:b}=r.validateTreatmentsSchema(n.treatments,n.experiments),{quickFetch:y}=r.validateQuickFetch(n.quickFetch,n.quickFetchLabel),{http:g}=r.validateHttp(n.http);r.checkValidationErrors();const{resolveTreatments:v}=tt({asyncStore:Ne(a),apiDomain:u,ceid:l,http:g,onError:c,quickFetch:y,quickFetchLabel:p,treatments:b,experiments:o,identifiers:i,timeout:s,logDebug:h,mode:d}),{resolveExposableTreatments:x}=rt({resolveTreatments:v,onError:c}),{logExposure:w,logExposures:j}=X({apiDomain:u,http:g,identifiers:i,resolveTreatments:x,onError:c,logDebug:h});m.length&&!Fe.has(m)&&Fe.set(m,{logExposure:w,logExposures:j,resolve:v,resolveExposures:x});return{logExposure:(...e)=>nt(m,"logExposure",w)(...e),logExposures:(...e)=>nt(m,"logExposures",j)(...e),resolve:(...e)=>nt(m,"resolve",v)(...e),resolveExposures:(...e)=>nt(m,"resolveExposures",x)(...e)}}function it({onError:e=te,store:t=De(),timeout:r=o,quickFetchLabel:n=null,quickFetch:i=("undefined"!=typeof window?window.quickFetch:null),treatments:a=null,identifiers:s=null,experiments:c=null,http:u=null,apiDomain:l=null,ceid:d=null,mode:p=null,name:m=null}={}){return ot({onError:e,store:t,timeout:r,http:u,quickFetchLabel:n,quickFetch:i,treatments:a,identifiers:s,experiments:c,apiDomain:l,ceid:d,mode:p,name:m})}var at=i(170),st=i.n(at);(function(){if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;throw new Error("[usage-tracker-js] Unable to determine the global context")})(),Object.keys;const ct=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{let t;const r=16*Math.random()|0;t="x"===e?r:3&r|8;return t.toString(16)})),ut=()=>{window.hubspot||(window.hubspot={});const e=window.hubspot;e.deviceId||(e.deviceId=ct());return e.deviceId};it({quickFetchLabel:window.quickFetch?"experiment-treatments":"",identifiers:{other:ut()},experiments:st()}).resolve()}()}();
//# sourceMappingURL=//static.hsappstatic.net/embedded-viral-link-ui/static-1.2837/bundles/earlyRequester.js.map